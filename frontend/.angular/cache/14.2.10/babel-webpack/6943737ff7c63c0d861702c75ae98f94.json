{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/kosov/OneDrive/Dokumenti/UredjivanjeProstoraAPP/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/provera.service\";\nimport * as i2 from \"../services/korisnik.service\";\nimport * as i3 from \"../services/klijent.service\";\nimport * as i4 from \"../services/agencija.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\n\nfunction RegistracijaComponent_tr_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Ime\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_tr_32_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.ime = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.ime);\n  }\n}\n\nfunction RegistracijaComponent_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Prezime\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_tr_33_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.prezime = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.prezime);\n  }\n}\n\nfunction RegistracijaComponent_tr_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Naziv agencije\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_tr_34_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.naziv = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.naziv);\n  }\n}\n\nfunction RegistracijaComponent_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Ulica i broj\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_tr_35_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.ulica = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.ulica);\n  }\n}\n\nfunction RegistracijaComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Grad\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_tr_36_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.grad = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.grad);\n  }\n}\n\nfunction RegistracijaComponent_tr_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Drzava\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_tr_37_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.drzava = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.drzava);\n  }\n}\n\nfunction RegistracijaComponent_tr_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Maticni broj agencije\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_tr_38_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.maticniBroj = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.maticniBroj);\n  }\n}\n\nfunction RegistracijaComponent_tr_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Kratak opis agencije\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"textarea\", 0);\n    i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_tr_39_Template_textarea_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.opis = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.opis);\n  }\n}\n\nexport class RegistracijaComponent {\n  constructor(proveraServis, korisnikServis, klijentServis, agencijaKlijent, ruter) {\n    this.proveraServis = proveraServis;\n    this.korisnikServis = korisnikServis;\n    this.klijentServis = klijentServis;\n    this.agencijaKlijent = agencijaKlijent;\n    this.ruter = ruter;\n    this.tip = '';\n    this.korisnickoIme = '';\n    this.lozinka = '';\n    this.potvrdaLozinke = '';\n    this.telefon = '';\n    this.mejl = '';\n    this.slika = '';\n    this.fajl = null;\n    this.ime = '';\n    this.prezime = '';\n    this.naziv = '';\n    this.ulica = '';\n    this.grad = '';\n    this.drzava = '';\n    this.maticniBroj = '';\n    this.opis = '';\n    this.greska = '';\n  }\n\n  ngOnInit() {}\n\n  registracija() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.lozinka != _this.potvrdaLozinke) {\n        _this.greska = 'Lozinke se ne poklapaju';\n        return;\n      }\n\n      if (_this.tip == 'klijent') {\n        const klijent = {\n          korisnickoIme: _this.korisnickoIme,\n          lozinka: _this.lozinka,\n          telefon: _this.telefon,\n          mejl: _this.mejl,\n          slika: _this.slika,\n          status: 'na cekanju',\n          ime: _this.ime,\n          prezime: _this.prezime\n        };\n        let provera = yield _this.proveraServis.proveraKlijent(klijent);\n\n        if (provera != 'ok') {\n          _this.greska = provera;\n          return;\n        }\n\n        _this.klijentServis.registracija(klijent).subscribe(odgovor => {\n          if (odgovor['poruka'] == 'ok') {\n            _this.greska = '';\n          } else {\n            _this.greska = odgovor['poruka'];\n            return;\n          }\n        });\n\n        _this.korisnikServis.ubaciKorisnika(_this.korisnickoIme, _this.lozinka, _this.tip).subscribe(odgovor => {\n          if (odgovor['poruka'] == 'ok') {\n            alert('Uspesno ste se registrovali\\nAdmini ce vas uskoro odobriti');\n\n            _this.ruter.navigate(['/prijava']);\n          } else {\n            _this.greska = odgovor['poruka'];\n          }\n        });\n      } else if (_this.tip == 'agencija') {\n        const agencija = {\n          korisnickoIme: _this.korisnickoIme,\n          lozinka: _this.lozinka,\n          telefon: _this.telefon,\n          mejl: _this.mejl,\n          slika: _this.slika,\n          status: 'na cekanju',\n          naziv: _this.naziv,\n          ulica: _this.ulica,\n          grad: _this.grad,\n          drzava: _this.drzava,\n          maticniBroj: _this.maticniBroj,\n          opis: _this.opis\n        };\n        let provera = yield _this.proveraServis.proveraAgencija(agencija);\n\n        if (provera != 'ok') {\n          _this.greska = provera;\n          return;\n        }\n\n        _this.agencijaKlijent.registracija(agencija).subscribe(odgovor => {\n          if (odgovor['poruka'] == 'ok') {\n            _this.greska = '';\n          } else {\n            _this.greska = odgovor['poruka'];\n            return;\n          }\n        });\n\n        _this.korisnikServis.ubaciKorisnika(_this.korisnickoIme, _this.lozinka, _this.tip).subscribe(odgovor => {\n          if (odgovor['poruka'] == 'ok') {\n            alert('Uspesno ste se registrovali\\nAdmini ce vas uskoro odobriti');\n\n            _this.ruter.navigate(['/prijava']);\n          } else {\n            _this.greska = odgovor['poruka'];\n          }\n        });\n      } else {\n        _this.greska = 'Morate izabrati tip korisnika';\n      }\n    })();\n  } // otpremanjeFajla(event) {\n  //   this.fajl = event.target.files[0];\n  //   var citac = new FileReader();\n  //   citac.readAsDataURL(this.fajl);\n  //   citac.onload = () => {\n  //     this.slika = citac.result as string;\n  //   };\n  // }\n\n\n  otpremanjeSlike(fajl) {\n    if (fajl.target.files[0]) {\n      if (fajl.target.files[0].type == 'image/jpeg' || fajl.target.files[0].type == 'image/png') {\n        const citac = new FileReader();\n\n        citac.onload = e => {\n          const slika = new Image();\n          slika.src = e.target.result;\n\n          slika.onload = res => {\n            const visina = res.currentTarget['height'];\n            const sirina = res.currentTarget['width'];\n\n            if (visina == sirina) {\n              if (visina > 300 || visina < 100) {\n                this.greska = 'Slika mora biti dimenzija izmedju 100x100px i 300x300px';\n              } else {\n                this.greska = '';\n                this.slika = e.target.result;\n              }\n            } else {\n              this.greska = 'Slika mora biti kvadratnog oblika';\n            }\n          };\n        };\n\n        citac.readAsDataURL(fajl.target.files[0]);\n      } else {\n        this.greska = 'Slika mora biti u PNG/JPG formatu';\n      }\n    }\n  }\n\n  otpremanjeFajla(fileInput) {\n    if (fileInput.target.files && fileInput.target.files[0]) {\n      const allowed_types = ['image/png', 'image/jpeg'];\n      const max_height = 300;\n      const max_width = 300;\n      const reader = new FileReader();\n\n      reader.onload = e => {\n        const image = new Image();\n        image.src = e.target.result;\n\n        image.onload = rs => {\n          const img_height = rs.currentTarget['height'];\n          const img_width = rs.currentTarget['width'];\n\n          if (img_height > max_height && img_width > max_width) {\n            this.greska = 'Maximum dimentions allowed ' + max_height + '*' + max_width + 'px';\n          } else {\n            const imgBase64Path = e.target.result;\n            this.slika = imgBase64Path;\n          }\n        };\n      };\n\n      reader.readAsDataURL(fileInput.target.files[0]);\n    }\n  }\n\n}\n\nRegistracijaComponent.ɵfac = function RegistracijaComponent_Factory(t) {\n  return new (t || RegistracijaComponent)(i0.ɵɵdirectiveInject(i1.ProveraService), i0.ɵɵdirectiveInject(i2.KorisnikService), i0.ɵɵdirectiveInject(i3.KlijentService), i0.ɵɵdirectiveInject(i4.AgencijaService), i0.ɵɵdirectiveInject(i5.Router));\n};\n\nRegistracijaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegistracijaComponent,\n  selectors: [[\"app-registracija\"]],\n  decls: 50,\n  vars: 15,\n  consts: [[3, \"ngModel\", \"ngModelChange\"], [\"value\", \"klijent\"], [\"value\", \"agencija\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngIf\"], [\"type\", \"file\", 3, \"change\"], [\"colspan\", \"2\"], [3, \"click\"]],\n  template: function RegistracijaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtext(0, \"Ja sam\\n\");\n      i0.ɵɵelementStart(1, \"select\", 0);\n      i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_Template_select_ngModelChange_1_listener($event) {\n        return ctx.tip = $event;\n      });\n      i0.ɵɵelementStart(2, \"option\", 1);\n      i0.ɵɵtext(3, \"klijent\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"option\", 2);\n      i0.ɵɵtext(5, \"agencija\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"table\")(7, \"tr\")(8, \"td\");\n      i0.ɵɵtext(9, \"Korisnicko ime\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"td\")(11, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.korisnickoIme = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"tr\")(13, \"td\");\n      i0.ɵɵtext(14, \"Lozinka\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"td\")(16, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.lozinka = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"tr\")(18, \"td\");\n      i0.ɵɵtext(19, \"Potvrda lozinke\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"td\")(21, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.potvrdaLozinke = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"tr\")(23, \"td\");\n      i0.ɵɵtext(24, \"Kontakt telefon\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"td\")(26, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.telefon = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(27, \"tr\")(28, \"td\");\n      i0.ɵɵtext(29, \"Mejl\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"td\")(31, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function RegistracijaComponent_Template_input_ngModelChange_31_listener($event) {\n        return ctx.mejl = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(32, RegistracijaComponent_tr_32_Template, 5, 1, \"tr\", 5);\n      i0.ɵɵtemplate(33, RegistracijaComponent_tr_33_Template, 5, 1, \"tr\", 5);\n      i0.ɵɵtemplate(34, RegistracijaComponent_tr_34_Template, 5, 1, \"tr\", 5);\n      i0.ɵɵtemplate(35, RegistracijaComponent_tr_35_Template, 5, 1, \"tr\", 5);\n      i0.ɵɵtemplate(36, RegistracijaComponent_tr_36_Template, 5, 1, \"tr\", 5);\n      i0.ɵɵtemplate(37, RegistracijaComponent_tr_37_Template, 5, 1, \"tr\", 5);\n      i0.ɵɵtemplate(38, RegistracijaComponent_tr_38_Template, 5, 1, \"tr\", 5);\n      i0.ɵɵtemplate(39, RegistracijaComponent_tr_39_Template, 5, 1, \"tr\", 5);\n      i0.ɵɵelementStart(40, \"tr\")(41, \"td\");\n      i0.ɵɵtext(42, \"Profilna slika\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"td\")(44, \"input\", 6);\n      i0.ɵɵlistener(\"change\", function RegistracijaComponent_Template_input_change_44_listener($event) {\n        return ctx.otpremanjeSlike($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(45, \"tr\")(46, \"td\", 7)(47, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function RegistracijaComponent_Template_button_click_47_listener() {\n        return ctx.registracija();\n      });\n      i0.ɵɵtext(48, \"Registruj se\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtext(49);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.tip);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.korisnickoIme);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.lozinka);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.potvrdaLozinke);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.telefon);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.mejl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tip == \"klijent\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tip == \"klijent\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tip == \"agencija\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tip == \"agencija\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tip == \"agencija\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tip == \"agencija\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tip == \"agencija\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tip == \"agencija\");\n      i0.ɵɵadvance(10);\n      i0.ɵɵtextInterpolate1(\"\\n\", ctx.greska, \"\\n\");\n    }\n  },\n  dependencies: [i6.NgIf, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.DefaultValueAccessor, i7.SelectControlValueAccessor, i7.NgControlStatus, i7.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWdpc3RyYWNpamEuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","RegistracijaComponent","constructor","proveraServis","korisnikServis","klijentServis","agencijaKlijent","ruter","ngOnInit","registracija","lozinka","potvrdaLozinke","greska","tip","klijent","korisnickoIme","telefon","mejl","slika","status","ime","prezime","provera","proveraKlijent","subscribe","odgovor","ubaciKorisnika","alert","navigate","agencija","naziv","ulica","grad","drzava","maticniBroj","opis","proveraAgencija","otpremanjeSlike","fajl","target","files","type","citac","FileReader","onload","e","Image","src","result","res","visina","currentTarget","sirina","readAsDataURL","otpremanjeFajla","fileInput","allowed_types","max_height","max_width","reader","image","rs","img_height","img_width","imgBase64Path","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\kosov\\OneDrive\\Dokumenti\\UredjivanjeProstoraAPP\\frontend\\src\\app\\registracija\\registracija.component.html","C:\\Users\\kosov\\OneDrive\\Dokumenti\\UredjivanjeProstoraAPP\\frontend\\src\\app\\registracija\\registracija.component.ts"],"sourcesContent":["Ja sam\n<select [(ngModel)]=\"tip\">\n    <option value=\"klijent\">klijent</option>\n    <option value=\"agencija\">agencija</option>\n</select>\n<table>\n    <tr>\n        <td>Korisnicko ime</td>\n        <td><input type=\"text\" [(ngModel)]=\"korisnickoIme\"></td>\n    </tr>\n    <tr>\n        <td>Lozinka</td>\n        <td><input type=\"password\" [(ngModel)]=\"lozinka\"></td>\n    </tr>\n    <tr>\n        <td>Potvrda lozinke</td>\n        <td><input type=\"password\" [(ngModel)]=\"potvrdaLozinke\"></td>\n    </tr>\n    <tr>\n        <td>Kontakt telefon</td>\n        <td><input type=\"text\" [(ngModel)]=\"telefon\"></td>\n    </tr>\n    <tr>\n        <td>Mejl</td>\n        <td><input type=\"text\" [(ngModel)]=\"mejl\"></td>\n    </tr>\n    <tr *ngIf=\"tip=='klijent'\">\n        <td>Ime</td>\n        <td><input type=\"text\" [(ngModel)]=\"ime\"></td>\n    </tr>\n    <tr *ngIf=\"tip=='klijent'\">\n        <td>Prezime</td>\n        <td><input type=\"text\" [(ngModel)]=\"prezime\"></td>\n    </tr>\n    <tr *ngIf=\"tip=='agencija'\">\n        <td>Naziv agencije</td>\n        <td><input type=\"text\" [(ngModel)]=\"naziv\"></td>\n    </tr>\n    <tr *ngIf=\"tip=='agencija'\">\n        <td>Ulica i broj</td>\n        <td><input type=\"text\" [(ngModel)]=\"ulica\"></td>\n    </tr>\n    <tr *ngIf=\"tip=='agencija'\">\n        <td>Grad</td>\n        <td><input type=\"text\" [(ngModel)]=\"grad\"></td>\n    </tr>\n    <tr *ngIf=\"tip=='agencija'\">\n        <td>Drzava</td>\n        <td><input type=\"text\" [(ngModel)]=\"drzava\"></td>\n    </tr>\n    <tr *ngIf=\"tip=='agencija'\">\n        <td>Maticni broj agencije</td>\n        <td><input type=\"text\" [(ngModel)]=\"maticniBroj\"></td>\n    </tr>\n    <tr *ngIf=\"tip=='agencija'\">\n        <td>Kratak opis agencije</td>\n        <td><textarea [(ngModel)]=\"opis\"></textarea></td>\n    </tr>\n    <tr>\n        <td>Profilna slika</td>\n        <td><input type=\"file\" (change)=\"otpremanjeSlike($event)\"></td>\n    </tr>\n    <tr>\n        <td colspan=\"2\"><button (click)=\"registracija()\">Registruj se</button></td>\n    </tr>\n</table>\n{{greska}}\n","import { Component, OnInit } from '@angular/core';\r\nimport { KorisnikService } from '../services/korisnik.service';\r\nimport { KlijentService } from '../services/klijent.service';\r\nimport { AgencijaService } from '../services/agencija.service';\r\nimport { Router } from '@angular/router';\r\nimport { ProveraService } from '../services/provera.service';\r\n\r\n@Component({\r\n  selector: 'app-registracija',\r\n  templateUrl: './registracija.component.html',\r\n  styleUrls: ['./registracija.component.css'],\r\n})\r\nexport class RegistracijaComponent implements OnInit {\r\n  constructor(\r\n    private proveraServis: ProveraService,\r\n    private korisnikServis: KorisnikService,\r\n    private klijentServis: KlijentService,\r\n    private agencijaKlijent: AgencijaService,\r\n    private ruter: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  async registracija() {\r\n    if (this.lozinka != this.potvrdaLozinke) {\r\n      this.greska = 'Lozinke se ne poklapaju';\r\n      return;\r\n    }\r\n\r\n    if (this.tip == 'klijent') {\r\n      const klijent = {\r\n        korisnickoIme: this.korisnickoIme,\r\n        lozinka: this.lozinka,\r\n        telefon: this.telefon,\r\n        mejl: this.mejl,\r\n        slika: this.slika,\r\n        status: 'na cekanju',\r\n        ime: this.ime,\r\n        prezime: this.prezime,\r\n      };\r\n\r\n      let provera = await this.proveraServis.proveraKlijent(klijent);\r\n      if (provera != 'ok') {\r\n        this.greska = provera;\r\n        return;\r\n      }\r\n\r\n      this.klijentServis.registracija(klijent).subscribe((odgovor) => {\r\n        if (odgovor['poruka'] == 'ok') {\r\n          this.greska = '';\r\n        } else {\r\n          this.greska = odgovor['poruka'];\r\n          return;\r\n        }\r\n      });\r\n\r\n      this.korisnikServis\r\n        .ubaciKorisnika(this.korisnickoIme, this.lozinka, this.tip)\r\n        .subscribe((odgovor) => {\r\n          if (odgovor['poruka'] == 'ok') {\r\n            alert('Uspesno ste se registrovali\\nAdmini ce vas uskoro odobriti');\r\n            this.ruter.navigate(['/prijava']);\r\n          } else {\r\n            this.greska = odgovor['poruka'];\r\n          }\r\n        });\r\n    } else if (this.tip == 'agencija') {\r\n      const agencija = {\r\n        korisnickoIme: this.korisnickoIme,\r\n        lozinka: this.lozinka,\r\n        telefon: this.telefon,\r\n        mejl: this.mejl,\r\n        slika: this.slika,\r\n        status: 'na cekanju',\r\n        naziv: this.naziv,\r\n        ulica: this.ulica,\r\n        grad: this.grad,\r\n        drzava: this.drzava,\r\n        maticniBroj: this.maticniBroj,\r\n        opis: this.opis,\r\n      };\r\n\r\n      let provera = await this.proveraServis.proveraAgencija(agencija);\r\n      if (provera != 'ok') {\r\n        this.greska = provera;\r\n        return;\r\n      }\r\n\r\n      this.agencijaKlijent.registracija(agencija).subscribe((odgovor) => {\r\n        if (odgovor['poruka'] == 'ok') {\r\n          this.greska = '';\r\n        } else {\r\n          this.greska = odgovor['poruka'];\r\n          return;\r\n        }\r\n      });\r\n\r\n      this.korisnikServis\r\n        .ubaciKorisnika(this.korisnickoIme, this.lozinka, this.tip)\r\n        .subscribe((odgovor) => {\r\n          if (odgovor['poruka'] == 'ok') {\r\n            alert('Uspesno ste se registrovali\\nAdmini ce vas uskoro odobriti');\r\n            this.ruter.navigate(['/prijava']);\r\n          } else {\r\n            this.greska = odgovor['poruka'];\r\n          }\r\n        });\r\n    } else {\r\n      this.greska = 'Morate izabrati tip korisnika';\r\n    }\r\n  }\r\n\r\n  // otpremanjeFajla(event) {\r\n  //   this.fajl = event.target.files[0];\r\n  //   var citac = new FileReader();\r\n  //   citac.readAsDataURL(this.fajl);\r\n  //   citac.onload = () => {\r\n  //     this.slika = citac.result as string;\r\n  //   };\r\n  // }\r\n  otpremanjeSlike(fajl) {\r\n    if (fajl.target.files[0]) {\r\n      if (\r\n        fajl.target.files[0].type == 'image/jpeg' ||\r\n        fajl.target.files[0].type == 'image/png'\r\n      ) {\r\n        const citac = new FileReader();\r\n        citac.onload = (e: any) => {\r\n          const slika = new Image();\r\n          slika.src = e.target.result;\r\n          slika.onload = (res) => {\r\n            const visina = res.currentTarget['height'];\r\n            const sirina = res.currentTarget['width'];\r\n\r\n            if (visina == sirina) {\r\n              if (visina > 300 || visina < 100) {\r\n                this.greska =\r\n                  'Slika mora biti dimenzija izmedju 100x100px i 300x300px';\r\n              } else {\r\n                this.greska = '';\r\n                this.slika = e.target.result;\r\n              }\r\n            } else {\r\n              this.greska = 'Slika mora biti kvadratnog oblika';\r\n            }\r\n          };\r\n        };\r\n        citac.readAsDataURL(fajl.target.files[0]);\r\n      } else {\r\n        this.greska = 'Slika mora biti u PNG/JPG formatu';\r\n      }\r\n    }\r\n  }\r\n  otpremanjeFajla(fileInput: any) {\r\n    if (fileInput.target.files && fileInput.target.files[0]) {\r\n      const allowed_types = ['image/png', 'image/jpeg'];\r\n      const max_height = 300;\r\n      const max_width = 300;\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = (e: any) => {\r\n        const image = new Image();\r\n        image.src = e.target.result;\r\n        image.onload = (rs) => {\r\n          const img_height = rs.currentTarget['height'];\r\n          const img_width = rs.currentTarget['width'];\r\n\r\n          if (img_height > max_height && img_width > max_width) {\r\n            this.greska =\r\n              'Maximum dimentions allowed ' +\r\n              max_height +\r\n              '*' +\r\n              max_width +\r\n              'px';\r\n          } else {\r\n            const imgBase64Path = e.target.result;\r\n            this.slika = imgBase64Path;\r\n          }\r\n        };\r\n      };\r\n\r\n      reader.readAsDataURL(fileInput.target.files[0]);\r\n    }\r\n  }\r\n\r\n  tip: string = '';\r\n  korisnickoIme: string = '';\r\n  lozinka: string = '';\r\n  potvrdaLozinke: string = '';\r\n  telefon: string = '';\r\n  mejl: string = '';\r\n  slika: string = '';\r\n  fajl: File = null;\r\n\r\n  ime: string = '';\r\n  prezime: string = '';\r\n\r\n  naziv: string = '';\r\n  ulica: string = '';\r\n  grad: string = '';\r\n  drzava: string = '';\r\n  maticniBroj: string = '';\r\n  opis: string = '';\r\n\r\n  greska: string = '';\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
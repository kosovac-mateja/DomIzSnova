{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/kosov/OneDrive/Dokumenti/UredjivanjeProstoraAPP/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/agencija.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/provera.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../zaglavlje-agencija/zaglavlje-agencija.component\";\n\nconst _c0 = function () {\n  return [\"/promena-lozinke\"];\n};\n\nexport class ProfilAgencijaComponent {\n  constructor(agencijaServis, ruter, proveraServis) {\n    this.agencijaServis = agencijaServis;\n    this.ruter = ruter;\n    this.proveraServis = proveraServis;\n    this.greska = '';\n  }\n\n  ngOnInit() {\n    this.korisnickoIme = sessionStorage.getItem('korisnik');\n    this.agencijaServis.dohvatiAgenciju(this.korisnickoIme).subscribe(agencija => {\n      this.naziv = agencija.naziv;\n      this.opis = agencija.opis;\n      this.mejl = agencija.mejl;\n      this.telefon = agencija.telefon;\n      this.slika = agencija.slika;\n      this.ulica = agencija.ulica;\n      this.grad = agencija.grad;\n      this.drzava = agencija.drzava;\n      this.maticniBroj = agencija.maticniBroj;\n    });\n  }\n\n  otpremanjeFajla(event) {\n    var fajl = event.target.files[0];\n    var citac = new FileReader();\n    citac.readAsDataURL(fajl);\n\n    citac.onload = () => {\n      this.slika = citac.result;\n    };\n  }\n\n  azuriraj() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const agencija = {\n        korisnickoIme: _this.korisnickoIme,\n        lozinka: '',\n        telefon: _this.telefon,\n        mejl: _this.mejl,\n        slika: _this.slika,\n        naziv: _this.naziv,\n        ulica: _this.ulica,\n        grad: _this.grad,\n        drzava: _this.drzava,\n        maticniBroj: _this.maticniBroj,\n        opis: _this.opis\n      };\n      let provera = yield _this.proveraServis.proveraAgencija(agencija, true);\n\n      if (provera != 'ok') {\n        _this.greska = provera;\n        return;\n      }\n\n      _this.agencijaServis.azurirajAgenciju(_this.korisnickoIme, _this.telefon, _this.mejl, _this.slika, _this.naziv, _this.ulica, _this.grad, _this.drzava, _this.maticniBroj, _this.opis).subscribe(res => {\n        if (res['poruka'] == 'ok') {\n          alert('Uspešno ste ažurirali profil.');\n        } else {\n          alert('Greška pri ažuriranju profila.');\n        }\n\n        _this.ruter.navigate(['/agencija']);\n      });\n    })();\n  }\n\n  odustani() {\n    this.ruter.navigate(['agencija']);\n  }\n\n  odjava() {\n    sessionStorage.clear();\n    this.ruter.navigate(['/']);\n  }\n\n}\n\nProfilAgencijaComponent.ɵfac = function ProfilAgencijaComponent_Factory(t) {\n  return new (t || ProfilAgencijaComponent)(i0.ɵɵdirectiveInject(i1.AgencijaService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ProveraService));\n};\n\nProfilAgencijaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfilAgencijaComponent,\n  selectors: [[\"app-profil-agencija\"]],\n  decls: 63,\n  vars: 11,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"table\"], [\"type\", \"text\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"opis\", \"rows\", \"3\", \"name\", \"opis\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"file\", 1, \"form-control-file\", 3, \"change\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"]],\n  template: function ProfilAgencijaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-zaglavlje-agencija\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"table\", 3)(5, \"tr\")(6, \"td\");\n      i0.ɵɵtext(7, \"Korisni\\u010Dko ime\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"td\")(9, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilAgencijaComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.korisnickoIme = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(10, \"tr\")(11, \"td\");\n      i0.ɵɵtext(12, \"Naziv\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"td\")(14, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilAgencijaComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.naziv = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(15, \"tr\")(16, \"td\");\n      i0.ɵɵtext(17, \"Opis\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"td\")(19, \"textarea\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilAgencijaComponent_Template_textarea_ngModelChange_19_listener($event) {\n        return ctx.opis = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"tr\")(21, \"td\");\n      i0.ɵɵtext(22, \"Ulica\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"td\")(24, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilAgencijaComponent_Template_input_ngModelChange_24_listener($event) {\n        return ctx.ulica = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"tr\")(26, \"td\");\n      i0.ɵɵtext(27, \"Grad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"td\")(29, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilAgencijaComponent_Template_input_ngModelChange_29_listener($event) {\n        return ctx.grad = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"tr\")(31, \"td\");\n      i0.ɵɵtext(32, \"Drzava\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"td\")(34, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilAgencijaComponent_Template_input_ngModelChange_34_listener($event) {\n        return ctx.drzava = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"tr\")(36, \"td\");\n      i0.ɵɵtext(37, \"Kontakt telefon\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"td\")(39, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilAgencijaComponent_Template_input_ngModelChange_39_listener($event) {\n        return ctx.telefon = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(40, \"tr\")(41, \"td\");\n      i0.ɵɵtext(42, \"Mejl\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"td\")(44, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ProfilAgencijaComponent_Template_input_ngModelChange_44_listener($event) {\n        return ctx.mejl = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(45, \"tr\")(46, \"td\");\n      i0.ɵɵtext(47, \"Profilna slika\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"td\")(49, \"input\", 7);\n      i0.ɵɵlistener(\"change\", function ProfilAgencijaComponent_Template_input_change_49_listener($event) {\n        return ctx.otpremanjeFajla($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(50, \"tr\")(51, \"td\")(52, \"a\", 8);\n      i0.ɵɵtext(53, \"Promeni lozinku\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(54, \"tr\")(55, \"td\")(56, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function ProfilAgencijaComponent_Template_button_click_56_listener() {\n        return ctx.azuriraj();\n      });\n      i0.ɵɵtext(57, \"A\\u017Euriraj\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(58, \"td\")(59, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function ProfilAgencijaComponent_Template_button_click_59_listener() {\n        return ctx.odustani();\n      });\n      i0.ɵɵtext(60, \"Odustani\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(61, \"p\");\n      i0.ɵɵtext(62);\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.korisnickoIme);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.naziv);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.opis);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.ulica);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.grad);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.drzava);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.telefon);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.mejl);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(10, _c0));\n      i0.ɵɵadvance(10);\n      i0.ɵɵtextInterpolate(ctx.greska);\n    }\n  },\n  dependencies: [i2.RouterLinkWithHref, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.ZaglavljeAgencijaComponent],\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n    margin-top: 50px;\\r\\n  }\\r\\n  \\r\\n  .table[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n  }\\r\\n  \\r\\n  .btn[_ngcontent-%COMP%] {\\r\\n    margin-top: 10px;\\r\\n  }\\r\\n  \\r\\n  p[_ngcontent-%COMP%] {\\r\\n    margin-top: 10px;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2ZpbC1hZ2VuY2lqYS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UsV0FBVztFQUNiOztFQUVBO0lBQ0UsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UsZ0JBQWdCO0VBQ2xCIiwiZmlsZSI6InByb2ZpbC1hZ2VuY2lqYS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgICBtYXJnaW4tdG9wOiA1MHB4O1xyXG4gIH1cclxuICBcclxuICAudGFibGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG4gIFxyXG4gIC5idG4ge1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICB9XHJcbiAgXHJcbiAgcCB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gIH1cclxuICAiXX0= */\"]\n});","map":{"version":3,"mappings":"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","names":["ProfilAgencijaComponent","constructor","agencijaServis","ruter","proveraServis","ngOnInit","korisnickoIme","sessionStorage","getItem","dohvatiAgenciju","subscribe","agencija","naziv","opis","mejl","telefon","slika","ulica","grad","drzava","maticniBroj","otpremanjeFajla","event","fajl","target","files","citac","FileReader","readAsDataURL","onload","result","azuriraj","lozinka","provera","proveraAgencija","greska","azurirajAgenciju","res","alert","navigate","odustani","odjava","clear","i0","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\kosov\\OneDrive\\Dokumenti\\UredjivanjeProstoraAPP\\frontend\\src\\app\\profil-agencija\\profil-agencija.component.ts","C:\\Users\\kosov\\OneDrive\\Dokumenti\\UredjivanjeProstoraAPP\\frontend\\src\\app\\profil-agencija\\profil-agencija.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AgencijaService } from '../services/agencija.service';\nimport { Router } from '@angular/router';\nimport { Agencija } from '../models/agencija';\nimport { ProveraService } from '../services/provera.service';\n\n@Component({\n  selector: 'app-profil-agencija',\n  templateUrl: './profil-agencija.component.html',\n  styleUrls: ['./profil-agencija.component.css'],\n})\nexport class ProfilAgencijaComponent implements OnInit {\n  constructor(\n    private agencijaServis: AgencijaService,\n    private ruter: Router,\n    private proveraServis: ProveraService\n  ) {}\n\n  ngOnInit(): void {\n    this.korisnickoIme = sessionStorage.getItem('korisnik');\n    this.agencijaServis\n      .dohvatiAgenciju(this.korisnickoIme)\n      .subscribe((agencija: Agencija) => {\n        this.naziv = agencija.naziv;\n        this.opis = agencija.opis;\n        this.mejl = agencija.mejl;\n        this.telefon = agencija.telefon;\n        this.slika = agencija.slika;\n        this.ulica = agencija.ulica;\n        this.grad = agencija.grad;\n        this.drzava = agencija.drzava;\n        this.maticniBroj = agencija.maticniBroj;\n      });\n  }\n\n  otpremanjeFajla(event) {\n    var fajl = event.target.files[0];\n    var citac = new FileReader();\n    citac.readAsDataURL(fajl);\n    citac.onload = () => {\n      this.slika = citac.result as string;\n    };\n  }\n\n  async azuriraj() {\n    const agencija = {\n      korisnickoIme: this.korisnickoIme,\n      lozinka: '',\n      telefon: this.telefon,\n      mejl: this.mejl,\n      slika: this.slika,\n      naziv: this.naziv,\n      ulica: this.ulica,\n      grad: this.grad,\n      drzava: this.drzava,\n      maticniBroj: this.maticniBroj,\n      opis: this.opis,\n    };\n\n    let provera = await this.proveraServis.proveraAgencija(agencija, true);\n    if (provera != 'ok') {\n      this.greska = provera;\n      return;\n    }\n\n    this.agencijaServis\n      .azurirajAgenciju(\n        this.korisnickoIme,\n        this.telefon,\n        this.mejl,\n        this.slika,\n        this.naziv,\n        this.ulica,\n        this.grad,\n        this.drzava,\n        this.maticniBroj,\n        this.opis\n      )\n      .subscribe((res) => {\n        if (res['poruka'] == 'ok') {\n          alert('Uspešno ste ažurirali profil.');\n        } else {\n          alert('Greška pri ažuriranju profila.');\n        }\n        this.ruter.navigate(['/agencija']);\n      });\n  }\n\n  odustani() {\n    this.ruter.navigate(['agencija']);\n  }\n\n  odjava() {\n    sessionStorage.clear();\n    this.ruter.navigate(['/']);\n  }\n\n  korisnickoIme: string;\n  naziv: string;\n  opis: string;\n  mejl: string;\n  telefon: string;\n  slika: string;\n  ulica: string;\n  grad: string;\n  drzava: string;\n  maticniBroj: string;\n\n  greska: string = '';\n}\n","<app-zaglavlje-agencija></app-zaglavlje-agencija>\n<div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-6\">\n        <table class=\"table\">\n          <tr>\n            <td>Korisničko ime</td>\n            <td>\n              <input class=\"form-control\" type=\"text\" [(ngModel)]=\"korisnickoIme\" disabled>\n            </td>\n          </tr>\n          <tr>\n            <td>Naziv</td>\n            <td>\n              <input class=\"form-control\" type=\"text\" [(ngModel)]=\"naziv\">\n            </td>\n          </tr>\n          <tr>\n            <td>Opis</td>\n            <td>\n                <textarea class=\"form-control\" id=\"opis\" rows=\"3\" [(ngModel)]=\"opis\" name=\"opis\"></textarea>\n            </td>\n          </tr>\n          <tr>\n            <td>Ulica</td>\n            <td>\n              <input class=\"form-control\" type=\"text\" [(ngModel)]=\"ulica\">\n            </td>\n          </tr>\n          <tr>\n            <td>Grad</td>\n            <td>\n              <input class=\"form-control\" type=\"text\" [(ngModel)]=\"grad\">\n            </td>\n          </tr>\n          <tr>\n            <td>Drzava</td>\n            <td>\n              <input class=\"form-control\" type=\"text\" [(ngModel)]=\"drzava\">\n            </td>\n          </tr>\n          <tr>\n            <td>Kontakt telefon</td>\n            <td>\n              <input class=\"form-control\" type=\"text\" [(ngModel)]=\"telefon\">\n            </td>\n          </tr>\n          <tr>\n            <td>Mejl</td>\n            <td>\n              <input class=\"form-control\" type=\"text\" [(ngModel)]=\"mejl\">\n            </td>\n          </tr>\n          <tr>\n            <td>Profilna slika</td>\n            <td>\n              <input class=\"form-control-file\" type=\"file\" (change)=\"otpremanjeFajla($event)\">\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <a class=\"btn btn-primary\" [routerLink]=\"['/promena-lozinke']\">Promeni lozinku</a>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <button class=\"btn btn-success\" (click)=\"azuriraj()\">Ažuriraj</button>\n            </td>\n            <td>\n              <button class=\"btn btn-secondary\" (click)=\"odustani()\">Odustani</button>\n            </td>\n          </tr>\n        </table>\n        <p>{{ greska }}</p>\n      </div>\n    </div>\n  </div>"]},"metadata":{},"sourceType":"module"}
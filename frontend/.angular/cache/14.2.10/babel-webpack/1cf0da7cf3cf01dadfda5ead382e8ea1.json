{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/kosov/OneDrive/Dokumenti/UredjivanjeProstoraAPP/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/korisnik.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/mejl.service\";\nimport * as i4 from \"@angular/forms\";\n\nconst _c0 = function () {\n  return [\"/zaboravljenaLozinka\"];\n};\n\nconst _c1 = function () {\n  return [\"/registracija\"];\n};\n\nexport class PrijavaComponent {\n  constructor(korisnikServis, ruter, mejlServis) {\n    this.korisnikServis = korisnikServis;\n    this.ruter = ruter;\n    this.mejlServis = mejlServis;\n    this.korisnickoIme = '';\n    this.lozinka = '';\n    this.greska = '';\n  }\n\n  ngOnInit() {}\n\n  prijava() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.korisnickoIme == '' || _this.lozinka == '') {\n        _this.greska = 'Niste uneli sve podatke';\n        return;\n      }\n\n      _this.privLozinka = yield _this.mejlServis.dohvatiPrivremenuLozinku(_this.korisnickoIme);\n\n      _this.korisnikServis.dohvatiKorisnika(_this.korisnickoIme).subscribe(korisnik => {\n        _this.korisnik = korisnik;\n\n        if (_this.korisnik == undefined) {\n          _this.greska = 'Ne postoji korisnik sa unetim korisnickim imenom';\n          return;\n        }\n\n        if (korisnik.status != 'prihvacen') {\n          _this.greska = 'Vas zahtev za registraciju jos uvek nije prihvacen';\n          return;\n        }\n\n        if (_this.korisnik.lozinka != _this.lozinka) {\n          if (_this.privLozinka == undefined || _this.privLozinka.lozinka != _this.lozinka || _this.privLozinka.vremeIsteka > new Date()) {\n            _this.greska = 'Pogresna lozinka';\n            return;\n          }\n\n          if (_this.korisnik.tip == 'klijent') {\n            sessionStorage.setItem('korisnik', _this.korisnik.korisnickoIme);\n\n            _this.ruter.navigate(['/klijent']);\n          } else if (_this.korisnik.tip == 'agencija') {\n            sessionStorage.setItem('korisnik', _this.korisnik.korisnickoIme);\n\n            _this.ruter.navigate(['/agencija']);\n          }\n        }\n      });\n    })();\n  }\n\n}\n\nPrijavaComponent.ɵfac = function PrijavaComponent_Factory(t) {\n  return new (t || PrijavaComponent)(i0.ɵɵdirectiveInject(i1.KorisnikService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MejlService));\n};\n\nPrijavaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PrijavaComponent,\n  selectors: [[\"app-prijava\"]],\n  decls: 25,\n  vars: 7,\n  consts: [[1, \"telo\"], [\"src\", \"../../assets/logo.png\", \"alt\", \"logotip kompanije\", 1, \"logo\"], [1, \"forma\"], [1, \"red\"], [\"for\", \"korisnickoIme\"], [\"type\", \"text\", \"name\", \"korisnickoIme\", \"id\", \"korisnickoIme\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lozinka\"], [\"type\", \"password\", \"name\", \"lozinka\", \"id\", \"lozinka\", 3, \"ngModel\", \"ngModelChange\"], [1, \"zaboravljenaLozinka\"], [3, \"routerLink\"], [3, \"click\"], [1, \"registracija\"], [1, \"greska\"]],\n  template: function PrijavaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"h1\");\n      i0.ɵɵtext(3, \"Prijava u DomIzSnova\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"label\", 4);\n      i0.ɵɵtext(7, \"Korisni\\u010Dko ime\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function PrijavaComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.korisnickoIme = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 6);\n      i0.ɵɵtext(11, \"Lozinka\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function PrijavaComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.lozinka = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 8)(14, \"a\", 9);\n      i0.ɵɵtext(15, \"Zaboravljena lozinka?\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 3)(17, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function PrijavaComponent_Template_button_click_17_listener() {\n        return ctx.prijava();\n      });\n      i0.ɵɵtext(18, \"Prijava\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 11);\n      i0.ɵɵtext(20, \" Niste prijavljeni? \");\n      i0.ɵɵelementStart(21, \"a\", 9);\n      i0.ɵɵtext(22, \"Registruj se\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"div\", 12);\n      i0.ɵɵtext(24);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.korisnickoIme);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.lozinka);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(5, _c0));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(6, _c1));\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.greska);\n    }\n  },\n  dependencies: [i2.RouterLinkWithHref, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\".telo[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    min-height: 95vh;\\r\\n    background-color: #f6f8fa;\\r\\n    font-family: Arial, sans-serif;\\r\\n  }\\r\\n.logo[_ngcontent-%COMP%] {\\r\\n    width: 200px; \\r\\n    margin-bottom: 20px;\\r\\n  }\\r\\nh1[_ngcontent-%COMP%] {\\r\\n    font-size: 24px;\\r\\n    font-weight: bold;\\r\\n    margin-bottom: 20px;\\r\\n  }\\r\\n.forma[_ngcontent-%COMP%] {\\r\\n    width: 300px;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #e1e4e8;\\r\\n    padding: 20px 30px; \\r\\n    border-radius: 6px;\\r\\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);\\r\\n  }\\r\\n.red[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 15px;\\r\\n  }\\r\\nlabel[_ngcontent-%COMP%] {\\r\\n    font-weight: bold;\\r\\n  }\\r\\ninput[type=\\\"text\\\"][_ngcontent-%COMP%], input[type=\\\"password\\\"][_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    padding: 8px;\\r\\n    border: 1px solid #d1d5da;\\r\\n    border-radius: 6px;\\r\\n    outline: none;\\r\\n  }\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n    background-color: #000;\\r\\n    color: #fff;\\r\\n    border: none;\\r\\n    padding: 10px 16px;\\r\\n    border-radius: 6px;\\r\\n    cursor: pointer;\\r\\n    font-size: 16px;\\r\\n  }\\r\\nbutton[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #333;\\r\\n  }\\r\\n.zaboravljenaLozinka[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: flex-end;\\r\\n  }\\r\\n.zaboravljenaLozinka[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n    color: #0366d6;\\r\\n    text-decoration: none;\\r\\n  }\\r\\n.registracija[_ngcontent-%COMP%] {\\r\\n    margin-top: 10px;\\r\\n  }\\r\\na[_ngcontent-%COMP%] {\\r\\n    color: #0366d6;\\r\\n    text-decoration: none;\\r\\n  }\\r\\n.greska[_ngcontent-%COMP%] {\\r\\n    color: red;\\r\\n    margin-top: 10px;\\r\\n    font-weight: bold;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByaWphdmEuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw4QkFBOEI7QUFDOUI7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQix1QkFBdUI7SUFDdkIsZ0JBQWdCO0lBQ2hCLHlCQUF5QjtJQUN6Qiw4QkFBOEI7RUFDaEM7QUFFQTtJQUNFLFlBQVksRUFBRSxpREFBaUQ7SUFDL0QsbUJBQW1CO0VBQ3JCO0FBRUE7SUFDRSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLG1CQUFtQjtFQUNyQjtBQUVBO0lBQ0UsWUFBWTtJQUNaLHNCQUFzQjtJQUN0Qix5QkFBeUI7SUFDekIsa0JBQWtCLEVBQUUsOENBQThDO0lBQ2xFLGtCQUFrQjtJQUNsQix5Q0FBeUM7RUFDM0M7QUFFQTtJQUNFLG1CQUFtQjtFQUNyQjtBQUVBO0lBQ0UsaUJBQWlCO0VBQ25CO0FBRUE7O0lBRUUsV0FBVztJQUNYLFlBQVk7SUFDWix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGFBQWE7RUFDZjtBQUVBO0lBQ0Usc0JBQXNCO0lBQ3RCLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsZUFBZTtFQUNqQjtBQUVBO0lBQ0Usc0JBQXNCO0VBQ3hCO0FBRUE7SUFDRSxhQUFhO0lBQ2IseUJBQXlCO0VBQzNCO0FBRUE7SUFDRSxjQUFjO0lBQ2QscUJBQXFCO0VBQ3ZCO0FBRUE7SUFDRSxnQkFBZ0I7RUFDbEI7QUFFQTtJQUNFLGNBQWM7SUFDZCxxQkFBcUI7RUFDdkI7QUFFQTtJQUNFLFVBQVU7SUFDVixnQkFBZ0I7SUFDaEIsaUJBQWlCO0VBQ25CIiwiZmlsZSI6InByaWphdmEuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFN0eWxlcyBmb3IgdGhlIGxvZ2luIHBhZ2UgKi9cclxuLnRlbG8ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBtaW4taGVpZ2h0OiA5NXZoO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y2ZjhmYTtcclxuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICB9XHJcbiAgXHJcbiAgLmxvZ28ge1xyXG4gICAgd2lkdGg6IDIwMHB4OyAvKiBBZGp1c3QgdGhlIHdpZHRoIGFzIHBlciB5b3VyIGxvZ28gZGltZW5zaW9ucyAqL1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgaDEge1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIH1cclxuICBcclxuICAuZm9ybWEge1xyXG4gICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMWU0ZTg7XHJcbiAgICBwYWRkaW5nOiAyMHB4IDMwcHg7IC8qIEFkanVzdCB0aGUgcGFkZGluZyBhcyBwZXIgeW91ciBwcmVmZXJlbmNlICovXHJcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDNweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICB9XHJcbiAgXHJcbiAgLnJlZCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gIH1cclxuICBcclxuICBsYWJlbCB7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICB9XHJcbiAgXHJcbiAgaW5wdXRbdHlwZT1cInRleHRcIl0sXHJcbiAgaW5wdXRbdHlwZT1cInBhc3N3b3JkXCJdIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2QxZDVkYTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgfVxyXG4gIFxyXG4gIGJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDE2cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgfVxyXG4gIFxyXG4gIGJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gIH1cclxuICBcclxuICAuemFib3JhdmxqZW5hTG96aW5rYSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICB9XHJcbiAgXHJcbiAgLnphYm9yYXZsamVuYUxvemlua2EgYSB7XHJcbiAgICBjb2xvcjogIzAzNjZkNjtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICB9XHJcbiAgXHJcbiAgLnJlZ2lzdHJhY2lqYSB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gIH1cclxuICBcclxuICBhIHtcclxuICAgIGNvbG9yOiAjMDM2NmQ2O1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gIH1cclxuICBcclxuICAuZ3Jlc2thIHtcclxuICAgIGNvbG9yOiByZWQ7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgfVxyXG4gICJdfQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;AAYA,OAAM,MAAOA,gBAAP,CAAuB;EAC3BC,YACUC,cADV,EAEUC,KAFV,EAGUC,UAHV,EAGiC;IAFvB;IACA;IACA;IAkDV,qBAAwB,EAAxB;IACA,eAAkB,EAAlB;IAKA,cAAiB,EAAjB;EAvDI;;EAEJC,QAAQ,IAAW;;EAEbC,OAAO;IAAA;;IAAA;MACX,IAAI,KAAI,CAACC,aAAL,IAAsB,EAAtB,IAA4B,KAAI,CAACC,OAAL,IAAgB,EAAhD,EAAoD;QAClD,KAAI,CAACC,MAAL,GAAc,yBAAd;QACA;MACD;;MAED,KAAI,CAACC,WAAL,SAAyB,KAAI,CAACN,UAAL,CAAgBO,wBAAhB,CACvB,KAAI,CAACJ,aADkB,CAAzB;;MAIA,KAAI,CAACL,cAAL,CACGU,gBADH,CACoB,KAAI,CAACL,aADzB,EAEGM,SAFH,CAEcC,QAAD,IAAuB;QAChC,KAAI,CAACA,QAAL,GAAgBA,QAAhB;;QACA,IAAI,KAAI,CAACA,QAAL,IAAiBC,SAArB,EAAgC;UAC9B,KAAI,CAACN,MAAL,GAAc,kDAAd;UACA;QACD;;QAED,IAAIK,QAAQ,CAACE,MAAT,IAAmB,WAAvB,EAAoC;UAClC,KAAI,CAACP,MAAL,GAAc,oDAAd;UACA;QACD;;QAED,IAAI,KAAI,CAACK,QAAL,CAAcN,OAAd,IAAyB,KAAI,CAACA,OAAlC,EAA2C;UACzC,IACE,KAAI,CAACE,WAAL,IAAoBK,SAApB,IACA,KAAI,CAACL,WAAL,CAAiBF,OAAjB,IAA4B,KAAI,CAACA,OADjC,IAEA,KAAI,CAACE,WAAL,CAAiBO,WAAjB,GAA+B,IAAIC,IAAJ,EAHjC,EAIE;YACA,KAAI,CAACT,MAAL,GAAc,kBAAd;YACA;UACD;;UAED,IAAI,KAAI,CAACK,QAAL,CAAcK,GAAd,IAAqB,SAAzB,EAAoC;YAClCC,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAmC,KAAI,CAACP,QAAL,CAAcP,aAAjD;;YACA,KAAI,CAACJ,KAAL,CAAWmB,QAAX,CAAoB,CAAC,UAAD,CAApB;UACD,CAHD,MAGO,IAAI,KAAI,CAACR,QAAL,CAAcK,GAAd,IAAqB,UAAzB,EAAqC;YAC1CC,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAmC,KAAI,CAACP,QAAL,CAAcP,aAAjD;;YACA,KAAI,CAACJ,KAAL,CAAWmB,QAAX,CAAoB,CAAC,WAAD,CAApB;UACD;QACF;MACF,CAhCH;IAVW;EA2CZ;;AApD0B;;;mBAAhBtB,kBAAgBuB;AAAA;;;QAAhBvB;EAAgBwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ7BL;MACIA;MACAA;MAAIA;MAAoBA;MACxBA,+BAAmB,CAAnB,EAAmB,KAAnB,EAAmB,CAAnB,EAAmB,CAAnB,EAAmB,OAAnB,EAAmB,CAAnB;MAE+BA;MAAcA;MACzCA;MAA2DA;QAAA;MAAA;MAA3DA;MAEFA,+BAAiB,EAAjB,EAAiB,OAAjB,EAAiB,CAAjB;MACuBA;MAAOA;MAC5BA;MAAmDA;QAAA;MAAA;MAAnDA;MAEFA,gCAAiC,EAAjC,EAAiC,GAAjC,EAAiC,CAAjC;MAC6CA;MAAqBA;MAElEA,gCAAiB,EAAjB,EAAiB,QAAjB,EAAiB,EAAjB;MACUA;QAAA,OAASM,aAAT;MAAkB,CAAlB;MAAoBN;MAAOA;MAIvCA;MACEA;MAAmBA;MAAoCA;MAAYA;MAGrEA;MAAoBA;MAAYA;;;;MAlB+BA;MAAAA;MAIRA;MAAAA;MAGhDA;MAAAA;MAQiBA;MAAAA;MAGJA;MAAAA","names":["PrijavaComponent","constructor","korisnikServis","ruter","mejlServis","ngOnInit","prijava","korisnickoIme","lozinka","greska","privLozinka","dohvatiPrivremenuLozinku","dohvatiKorisnika","subscribe","korisnik","undefined","status","vremeIsteka","Date","tip","sessionStorage","setItem","navigate","i0","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\kosov\\OneDrive\\Dokumenti\\UredjivanjeProstoraAPP\\frontend\\src\\app\\prijava\\prijava.component.ts","C:\\Users\\kosov\\OneDrive\\Dokumenti\\UredjivanjeProstoraAPP\\frontend\\src\\app\\prijava\\prijava.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Korisnik } from '../models/korisnik';\nimport { KorisnikService } from '../services/korisnik.service';\nimport { Router } from '@angular/router';\nimport { MejlService } from '../services/mejl.service';\nimport { PrivremenaLozinka } from '../models/privremenaLozinka';\n\n@Component({\n  selector: 'app-prijava',\n  templateUrl: './prijava.component.html',\n  styleUrls: ['./prijava.component.css'],\n})\nexport class PrijavaComponent implements OnInit {\n  constructor(\n    private korisnikServis: KorisnikService,\n    private ruter: Router,\n    private mejlServis: MejlService\n  ) {}\n\n  ngOnInit(): void {}\n\n  async prijava() {\n    if (this.korisnickoIme == '' || this.lozinka == '') {\n      this.greska = 'Niste uneli sve podatke';\n      return;\n    }\n\n    this.privLozinka = await this.mejlServis.dohvatiPrivremenuLozinku(\n      this.korisnickoIme\n    );\n\n    this.korisnikServis\n      .dohvatiKorisnika(this.korisnickoIme)\n      .subscribe((korisnik: Korisnik) => {\n        this.korisnik = korisnik;\n        if (this.korisnik == undefined) {\n          this.greska = 'Ne postoji korisnik sa unetim korisnickim imenom';\n          return;\n        }\n\n        if (korisnik.status != 'prihvacen') {\n          this.greska = 'Vas zahtev za registraciju jos uvek nije prihvacen';\n          return;\n        }\n\n        if (this.korisnik.lozinka != this.lozinka) {\n          if (\n            this.privLozinka == undefined ||\n            this.privLozinka.lozinka != this.lozinka ||\n            this.privLozinka.vremeIsteka > new Date()\n          ) {\n            this.greska = 'Pogresna lozinka';\n            return;\n          }\n\n          if (this.korisnik.tip == 'klijent') {\n            sessionStorage.setItem('korisnik', this.korisnik.korisnickoIme);\n            this.ruter.navigate(['/klijent']);\n          } else if (this.korisnik.tip == 'agencija') {\n            sessionStorage.setItem('korisnik', this.korisnik.korisnickoIme);\n            this.ruter.navigate(['/agencija']);\n          }\n        }\n      });\n  }\n\n  korisnickoIme: string = '';\n  lozinka: string = '';\n  korisnik: Korisnik;\n\n  privLozinka: PrivremenaLozinka;\n\n  greska: string = '';\n}\n","<div class=\"telo\">\n    <img src=\"../../assets/logo.png\" alt=\"logotip kompanije\" class=\"logo\">\n    <h1>Prijava u DomIzSnova</h1>\n    <div class=\"forma\">\n      <div class=\"red\">\n        <label for=\"korisnickoIme\">Korisničko ime</label>\n        <input type=\"text\" name=\"korisnickoIme\" id=\"korisnickoIme\" [(ngModel)]=\"korisnickoIme\">\n      </div>\n      <div class=\"red\">\n        <label for=\"lozinka\">Lozinka</label>\n        <input type=\"password\" name=\"lozinka\" id=\"lozinka\" [(ngModel)]=\"lozinka\">\n      </div>\n      <div class=\"zaboravljenaLozinka\">\n        <a [routerLink]=\"['/zaboravljenaLozinka']\">Zaboravljena lozinka?</a>\n      </div>\n      <div class=\"red\">\n        <button (click)=\"prijava()\">Prijava</button>\n      </div>\n    </div>\n\n    <div class=\"registracija\">\n      Niste prijavljeni? <a [routerLink]=\"['/registracija']\">Registruj se</a>\n    </div>\n  \n    <div class=\"greska\">{{ greska }}</div>\n  </div>\n  "]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/kosov/OneDrive/Dokumenti/UredjivanjeProstoraAPP/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./korisnik.service\";\nexport class KlijentService {\n  constructor(http, korisnikServis) {\n    this.http = http;\n    this.korisnikServis = korisnikServis;\n    this.url = 'http://localhost:4000';\n  }\n\n  registracija(klijent) {\n    const podaci = {\n      korisnickoIme: klijent.korisnickoIme,\n      telefon: klijent.telefon,\n      mejl: klijent.mejl,\n      slika: klijent.slika,\n      ime: klijent.ime,\n      prezime: klijent.prezime\n    };\n    return this.http.post(`${this.url}/klijent/registracija`, podaci);\n  }\n\n  azurirajPodatak(korisnickoIme, podatak, vrednost) {\n    return this.http.post(`${this.url}/klijent/azurirajPodatak`, {\n      korisnickoIme: korisnickoIme,\n      podatak: podatak,\n      vrednost: vrednost\n    });\n  }\n\n  azurirajKlijenta(korisnickoIme, telefon, mejl, slika, ime, prezime) {\n    const klijent = {\n      korisnickoIme: korisnickoIme,\n      telefon: telefon,\n      mejl: mejl,\n      slika: slika,\n      ime: ime,\n      prezime: prezime\n    };\n    return this.http.post(`${this.url}/klijent/azurirajKlijenta`, klijent);\n  }\n\n  dohvatiKlijenta(korisnickoIme) {\n    return this.http.post(`${this.url}/klijent/dohvatiKlijenta`, {\n      korisnickoIme: korisnickoIme\n    });\n  }\n\n  mejlPostoji(mejl) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      return new Promise(resolve => {\n        _this.http.post(`${_this.url}/klijent/mejlPostoji`, {\n          mejl: mejl\n        }).subscribe(res => {\n          if (res['postoji'] == 'da') {\n            resolve(true);\n          } else {\n            resolve(false);\n          }\n        });\n      });\n    })();\n  }\n\n  dohvatiKlijentaPoMejlu(mejl) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      return new Promise(resolve => {\n        _this2.http.post(`${_this2.url}/klijent/dohvatiKlijentaPoMejlu`, {\n          mejl: mejl\n        }).subscribe(res => {\n          resolve(res);\n        });\n      });\n    })();\n  }\n\n  dohvatiKlijente() {\n    return this.http.get(`${this.url}/klijent/dohvatiKlijente`);\n  }\n\n}\n\nKlijentService.ɵfac = function KlijentService_Factory(t) {\n  return new (t || KlijentService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.KorisnikService));\n};\n\nKlijentService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: KlijentService,\n  factory: KlijentService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;;;AASA,OAAM,MAAOA,cAAP,CAAqB;EACzBC,YACUC,IADV,EAEUC,cAFV,EAEyC;IAD/B;IACA;IAGV,WAAM,uBAAN;EAFI;;EAIJC,YAAY,CAACC,OAAD,EAAQ;IAClB,MAAMC,MAAM,GAAG;MACbC,aAAa,EAAEF,OAAO,CAACE,aADV;MAEbC,OAAO,EAAEH,OAAO,CAACG,OAFJ;MAGbC,IAAI,EAAEJ,OAAO,CAACI,IAHD;MAIbC,KAAK,EAAEL,OAAO,CAACK,KAJF;MAKbC,GAAG,EAAEN,OAAO,CAACM,GALA;MAMbC,OAAO,EAAEP,OAAO,CAACO;IANJ,CAAf;IAQA,OAAO,KAAKV,IAAL,CAAUW,IAAV,CAAe,GAAG,KAAKC,GAAG,uBAA1B,EAAmDR,MAAnD,CAAP;EACD;;EAEDS,eAAe,CAACR,aAAD,EAAgBS,OAAhB,EAAyBC,QAAzB,EAAiC;IAC9C,OAAO,KAAKf,IAAL,CAAUW,IAAV,CAAe,GAAG,KAAKC,GAAG,0BAA1B,EAAsD;MAC3DP,aAAa,EAAEA,aAD4C;MAE3DS,OAAO,EAAEA,OAFkD;MAG3DC,QAAQ,EAAEA;IAHiD,CAAtD,CAAP;EAKD;;EAEDC,gBAAgB,CAACX,aAAD,EAAgBC,OAAhB,EAAyBC,IAAzB,EAA+BC,KAA/B,EAAsCC,GAAtC,EAA2CC,OAA3C,EAAkD;IAChE,MAAMP,OAAO,GAAG;MACdE,aAAa,EAAEA,aADD;MAEdC,OAAO,EAAEA,OAFK;MAGdC,IAAI,EAAEA,IAHQ;MAIdC,KAAK,EAAEA,KAJO;MAKdC,GAAG,EAAEA,GALS;MAMdC,OAAO,EAAEA;IANK,CAAhB;IASA,OAAO,KAAKV,IAAL,CAAUW,IAAV,CAAe,GAAG,KAAKC,GAAG,2BAA1B,EAAuDT,OAAvD,CAAP;EACD;;EAEDc,eAAe,CAACZ,aAAD,EAAc;IAC3B,OAAO,KAAKL,IAAL,CAAUW,IAAV,CAAe,GAAG,KAAKC,GAAG,0BAA1B,EAAsD;MAC3DP,aAAa,EAAEA;IAD4C,CAAtD,CAAP;EAGD;;EAEKa,WAAW,CAACX,IAAD,EAAK;IAAA;;IAAA;MACpB,OAAO,IAAIY,OAAJ,CAAaC,OAAD,IAAY;QAC7B,KAAI,CAACpB,IAAL,CACGW,IADH,CACQ,GAAG,KAAI,CAACC,GAAG,sBADnB,EAC2C;UACvCL,IAAI,EAAEA;QADiC,CAD3C,EAIGc,SAJH,CAIcC,GAAD,IAAQ;UACjB,IAAIA,GAAG,CAAC,SAAD,CAAH,IAAkB,IAAtB,EAA4B;YAC1BF,OAAO,CAAC,IAAD,CAAP;UACD,CAFD,MAEO;YACLA,OAAO,CAAC,KAAD,CAAP;UACD;QACF,CAVH;MAWD,CAZM,CAAP;IADoB;EAcrB;;EAEKG,sBAAsB,CAAChB,IAAD,EAAK;IAAA;;IAAA;MAC/B,OAAO,IAAIY,OAAJ,CAAaC,OAAD,IAAY;QAC7B,MAAI,CAACpB,IAAL,CACGW,IADH,CACQ,GAAG,MAAI,CAACC,GAAG,iCADnB,EACsD;UAClDL,IAAI,EAAEA;QAD4C,CADtD,EAIGc,SAJH,CAIcC,GAAD,IAAiB;UAC1BF,OAAO,CAACE,GAAD,CAAP;QACD,CANH;MAOD,CARM,CAAP;IAD+B;EAUhC;;EAEDE,eAAe;IACb,OAAO,KAAKxB,IAAL,CAAUyB,GAAV,CAAc,GAAG,KAAKb,GAAG,0BAAzB,CAAP;EACD;;AA7EwB;;;mBAAdd,gBAAc4B;AAAA;;;SAAd5B;EAAc6B,SAAd7B,cAAc;EAAA8B,YAFb","names":["KlijentService","constructor","http","korisnikServis","registracija","klijent","podaci","korisnickoIme","telefon","mejl","slika","ime","prezime","post","url","azurirajPodatak","podatak","vrednost","azurirajKlijenta","dohvatiKlijenta","mejlPostoji","Promise","resolve","subscribe","res","dohvatiKlijentaPoMejlu","dohvatiKlijente","get","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\kosov\\OneDrive\\Dokumenti\\UredjivanjeProstoraAPP\\frontend\\src\\app\\services\\klijent.service.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { KorisnikService } from './korisnik.service';\nimport { Korisnik } from '../models/korisnik';\nimport { Klijent } from '../models/klijent';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class KlijentService {\n  constructor(\n    private http: HttpClient,\n    private korisnikServis: KorisnikService\n  ) {}\n\n  url = 'http://localhost:4000';\n\n  registracija(klijent) {\n    const podaci = {\n      korisnickoIme: klijent.korisnickoIme,\n      telefon: klijent.telefon,\n      mejl: klijent.mejl,\n      slika: klijent.slika,\n      ime: klijent.ime,\n      prezime: klijent.prezime,\n    };\n    return this.http.post(`${this.url}/klijent/registracija`, podaci);\n  }\n\n  azurirajPodatak(korisnickoIme, podatak, vrednost) {\n    return this.http.post(`${this.url}/klijent/azurirajPodatak`, {\n      korisnickoIme: korisnickoIme,\n      podatak: podatak,\n      vrednost: vrednost,\n    });\n  }\n\n  azurirajKlijenta(korisnickoIme, telefon, mejl, slika, ime, prezime) {\n    const klijent = {\n      korisnickoIme: korisnickoIme,\n      telefon: telefon,\n      mejl: mejl,\n      slika: slika,\n      ime: ime,\n      prezime: prezime,\n    };\n\n    return this.http.post(`${this.url}/klijent/azurirajKlijenta`, klijent);\n  }\n\n  dohvatiKlijenta(korisnickoIme) {\n    return this.http.post(`${this.url}/klijent/dohvatiKlijenta`, {\n      korisnickoIme: korisnickoIme,\n    });\n  }\n\n  async mejlPostoji(mejl): Promise<boolean> {\n    return new Promise((resolve) => {\n      this.http\n        .post(`${this.url}/klijent/mejlPostoji`, {\n          mejl: mejl,\n        })\n        .subscribe((res) => {\n          if (res['postoji'] == 'da') {\n            resolve(true);\n          } else {\n            resolve(false);\n          }\n        });\n    });\n  }\n\n  async dohvatiKlijentaPoMejlu(mejl): Promise<Klijent> {\n    return new Promise((resolve) => {\n      this.http\n        .post(`${this.url}/klijent/dohvatiKlijentaPoMejlu`, {\n          mejl: mejl,\n        })\n        .subscribe((res: Klijent) => {\n          resolve(res);\n        });\n    });\n  }\n\n  dohvatiKlijente() {\n    return this.http.get(`${this.url}/klijent/dohvatiKlijente`);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}